<app-navbar></app-navbar>
<div class="profile-container bg-lightOrange rounded-lg shadow-lg w-full max-w-6xl mx-auto text-center my-8 px-8" style="max-width: 90%;">
    <h1 class="text-6xl font-bold mb-6 text-darkBrown">Profile</h1>
    <div class="flex justify-center mb-4">
        <img src="assets/profile-icon.png" alt="Profile Icon" class="w-24 h-24">
    </div>
    <div *ngIf="user" class="mb-4">
        <p class="text-2xl text-darkGray"><strong>Username:</strong> {{ user.username }}</p>
        <p class="text-2xl text-darkGray"><strong>Email:</strong> {{ user.email }}</p>
    </div>
    <div *ngIf="testResult" class="mb-6">
        <p class="text-2xl text-darkGray"><strong>Previous Seasonal Color:</strong> {{ testResult.season_name }}<span *ngIf="testResult.subcategory_name"> - {{ testResult.subcategory_name }}</span></p>
    </div>
    <div *ngIf="testHistory.length > 0" class="mt-6">
        <h2 class="text-3xl font-semibold mb-4 text-darkBrown">Test History</h2>
        <table class="table-auto w-full text-left mx-auto">
            <thead>
                <tr>
                    <th class="px-4 py-2 bg-lightYellow text-brown text-2xl">Date</th>
                    <th class="px-4 py-2 bg-lightYellow text-brown text-2xl">Season</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let history of paginatedTestHistory">
                    <td class="border px-4 py-2 text-darkGray text-2xl">{{ history.result_date }}</td>
                    <td class="border px-4 py-2 text-darkGray text-2xl">{{ history.season_name }}<span *ngIf="history.subcategory_name"> - {{ history.subcategory_name }}</span></td>
                </tr>
            </tbody>
        </table>
        <div class="flex justify-center mt-4">
            <button (click)="prevPage()" [disabled]="currentPage === 1" class="px-4 py-2 mx-2 bg-lightYellow text-darkBrown rounded">Previous</button>
            <button (click)="nextPage()" [disabled]="currentPage === totalPages" class="px-4 py-2 mx-2 bg-lightYellow text-darkBrown rounded">Next</button>
        </div>
    </div>
</div>