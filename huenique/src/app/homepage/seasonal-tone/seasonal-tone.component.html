<app-navbar></app-navbar>
<div class="flex justify-center my-8">
  <ul class="steps steps-horizontal w-full max-w-4xl">
    <li class="step" [ngClass]="{'step-primary': currentStep >= 1}">Take the Test</li>
    <li class="step" [ngClass]="{'step-primary': currentStep >= 2}">Seasonal Tone Result</li>
    <li class="step" [ngClass]="{'step-primary': currentStep >= 3}">Email Copy Request</li>
  </ul>
</div>

@if (result) {
  <div class="bg-lightOrange rounded-badge p-4 text-center max-w-sm mx-auto">
    <h2 class="text-lg font-normal">Your Seasonal Color is</h2>
    <p class="text-5xl font-bold mt-2 uppercase mb-2">{{ result.season_name }}</p>
  </div>

  <div class="season-description p-4 my-4">
    <h3>{{ result.season_name }}</h3>
    <p>{{ seasonDescription }}</p>
  </div>

  <button (click)="learnMore()" class="btn btn-primary mt-4">Learn More</button>
  
  @if (recommendations) {
    <div class="recommendations-section">
      @for (category of recommendationCategories; track category) {
        <h3>{{ category | titlecase }}</h3>
        
        <div class="recommendation-colors">
          <div class="color-category">
            @for (item of recommendations[category]; track item.hex_code) {
              <div [style.background-color]="item.hex_code" 
                   class="color-sample" 
                   [ngStyle]="{'color': getTextColor(item.hex_code)}">
                <p class="color-name">{{ item.color_name }}</p>
              </div>
            }
          </div>
        </div>

        <div class="recommendation-descriptions">
          @for (item of recommendations[category]; track item.hex_code) {
            <div class="description-item">
              <p class="">{{ item.color_name }}</p>
              <p class="color-description">{{ item.details }}</p>
            </div>
          }
        </div>
      }
    </div>
  }
}
<div class="mt-8">
  <button class="btn btn-primary" (click)="goToEmailRequest()">Proceed to Email Request</button>
</div>
