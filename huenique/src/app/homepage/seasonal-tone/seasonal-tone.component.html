<app-navbar></app-navbar>
<div class="flex justify-center my-8">
  <ul class="steps steps-horizontal w-full max-w-4xl">
    <li class="step" [ngClass]="{'step-primary': currentStep >= 1}">Take the Test</li>
    <li class="step" [ngClass]="{'step-primary': currentStep >= 2}">Seasonal Tone Result</li>
    <li class="step" [ngClass]="{'step-primary': currentStep >= 3}">Email Copy Request</li>
  </ul>
</div>

@if (result) {
  <h2>Your Seasonal Tone</h2>
  <p>Season: {{ result.season_name }}</p>
  <button (click)="learnMore()" class="btn btn-primary">Learn More</button>

  @if (recommendations) {
    <div class="recommendations-section">
      @for (category of recommendationCategories; track category) {
        <h3>{{ category | titlecase }}</h3>
        
        <div class="recommendation-colors">
          <div class="color-category">
            @for (item of recommendations[category]; track item.hex_code) {
              <div [style.background-color]="item.hex_code" 
                   class="color-sample" 
                   [ngStyle]="{'color': getTextColor(item.hex_code)}">
                <p class="color-name">{{ item.color_name }}</p>
              </div>
            }
          </div>
        </div>

        <div class="recommendation-descriptions">
          @for (item of recommendations[category]; track item.hex_code) {
            <div class="description-item">
              <p class="">{{ item.color_name }}</p>
              <p class="color-description">{{ item.details }}</p>
            </div>
          }
        </div>
      }
    </div>
  }
}
